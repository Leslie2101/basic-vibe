<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Our Days Together</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fff6f9;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      color: #333;
      margin: 0;
      box-sizing: border-box;
    }
    * { box-sizing: border-box; }
    h1 {
      font-size: 2rem;
      margin-bottom: 10px;
      text-align: center;
    }
    .timer {
      font-size: 1.4rem;
      margin-top: 20px;
      background: white;
      padding: 15px 20px;
      border-radius: 20px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      max-width: 90%;
      word-wrap: break-word;
      text-align: center;
    }
    .quote {
      margin-top: 20px;
      font-style: italic;
      opacity: 0.8;
      max-width: 90%;
      text-align: center;
    }
    .music-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #ff88aa;
      color: white;
      border: none;
      padding: 12px 16px;
      border-radius: 50%;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .music-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(0,0,0,0.25);
    }
    #spotifyPlayer {
      margin-top: 20px;
      width: 100%;
      max-width: 500px;
      height: 352px;
    }
    #content {
      display: none;
      flex-direction: column;
      align-items: center;
      width: 100%;
      padding: 10px;
    }
    #pinContainer {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 50px;
      width: 100%;
    }
    .pin-boxes {
      display: flex;
      gap: 5px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .pin-box {
      width: 12vw;
      max-width: 50px;
      height: 12vw;
      max-height: 50px;
      text-align: center;
      font-size: 1.5rem;
      border-radius: 8px;
      border: 2px solid #ccc;
      outline: none;
    }
    button#pinBtn {
      padding: 10px 20px;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
      background-color: #ff88aa;
      color: white;
      cursor: pointer;
      margin-top: 20px;
    }
    iframe {
      width: 90%;
      max-width: 500px;
    }
  </style>
</head>
<body>

<div id="pinContainer">
  <h1>Enter PIN to view page ‚ù§Ô∏è</h1>
  <div class="pin-boxes">
    <input type="number" maxlength="1" class="pin-box" />
    <input type="number" maxlength="1" class="pin-box" />
    <input type="number" maxlength="1" class="pin-box" />
    <input type="number" maxlength="1" class="pin-box" />
    <input type="number" maxlength="1" class="pin-box" />
    <input type="number" maxlength="1" class="pin-box" />
  </div>
  <button id="pinBtn">Submit</button>
</div>

<div id="content">
  <h1>Time Since Everything Started</h1>
  <div class="timer" id="timer">Loading...</div>
  <div class="quote" id="quote"></div>
  <iframe id="spotifyPlayer" src="https://open.spotify.com/embed/album/1nMHkGDJwTvoW3LTTdUVwA?utm_source=generator" height="352" frameBorder="0" allow="autoplay; encrypted-media"></iframe>
  <button class="music-btn" id="musicBtn">üéµ</button>
  <div id="terminalSection" style="margin-top:40px; width:100%; max-width:500px; display:none;">
  <h2 style="text-align:center; font-size:1.2rem;">Secret Console üíª</h2>
  <div id="terminalBox" style="
      background:#111;
      color:#00ff88;
      font-family:monospace;
      padding:15px;
      border-radius:15px;
      height:200px;
      overflow-y:auto;
      font-size:0.9rem;
      box-shadow:0 5px 15px rgba(0,0,0,0.2);
  ">
  Welcome to the hidden console...
  Hint: If love were a Python package, how would you install it?
    </div>
    <div style="display:flex; margin-top:5px;">
      <span style="color:#00ff88; font-family:monospace;">$&nbsp;</span>
      <input id="terminalInput"
            style="flex:1; background:#111; color:#00ff88; border:none; outline:none; font-family:monospace;"
            autocomplete="off">
    </div>
  </div>

  <div id="lockedMessage" style="
    margin-top:40px;
    text-align:center;
    font-style:italic;
    opacity:0.8;
  ">
    üîí This secret unlocks at the right moment.
</div>


</div>

<script>
const pinBtn = document.getElementById('pinBtn');
const pinContainer = document.getElementById('pinContainer');
const content = document.getElementById('content');
const pinBoxes = document.querySelectorAll('.pin-box');

pinBoxes.forEach((box, i) => {
  box.addEventListener('input', () => {
    if (box.value.length === 1 && i < pinBoxes.length - 1) {
      pinBoxes[i + 1].focus();
    }
  });
});

pinBtn.addEventListener('click', () => {
  const pin = Array.from(pinBoxes).map(b => b.value).join('');
  if (pin === '151123') {
    pinContainer.style.display = 'none';
    content.style.display = 'flex';
    startApp();
  } else {
    alert('Incorrect PIN!');
    pinBoxes.forEach(b => b.value = '');
    pinBoxes[0].focus();
  }
});

function startApp() {
  const startDate = new Date("2023-11-15T21:00:00");
  function updateTimer() {
    const now = new Date();
    const diff = now - startDate;
    const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25));
    const days = Math.floor((diff / (1000 * 60 * 60 * 24)) % 365.25);
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((diff / (1000 * 60)) % 60);
    const seconds = Math.floor((diff / 1000) % 60);
    document.getElementById("timer").textContent = `${years} yrs ‚Ä¢ ${days} days ‚Ä¢ ${hours} hrs ‚Ä¢ ${minutes} mins ‚Ä¢ ${seconds} secs`;
  }
  setInterval(updateTimer, 1000);
  updateTimer();

  const quotes = [
    "My very sweet, charming one",
    "You are my today and all of my tomorrows.",
    "Every moment with you is my favorite memory.",
    "Love grows more tremendously full, swift, and poignant as the years multiply.",
    "You make my heart smile."
  ];
  function showRandomQuote() {
    const q = quotes[Math.floor(Math.random() * quotes.length)];
    document.getElementById("quote").textContent = q;
  }
  showRandomQuote();

  const musicBtn = document.getElementById('musicBtn');
  const player = document.getElementById('spotifyPlayer');
  let isPlaying = false;
  musicBtn.addEventListener('click', () => {
    if (!isPlaying) {
      player.style.display = 'block';
      player.src = player.src;
      musicBtn.textContent = '‚è∏Ô∏è';
      isPlaying = true;
    } else {
      player.src = '';
      musicBtn.textContent = 'üéµ';
      isPlaying = false;
    }
  });

  // ===== Time Lock for Console =====
const unlockAt = new Date("2026-02-14T21:00:00"); // ‚Üê CHANGE THIS
const now = new Date();

const terminalSection = document.getElementById("terminalSection");
const lockedMessage = document.getElementById("lockedMessage");

if (now >= unlockAt) {
  terminalSection.style.display = "block";
  lockedMessage.style.display = "none";
} else {
  terminalSection.style.display = "none";
  lockedMessage.style.display = "block";
}


// Terminal Logic
const terminalInput = document.getElementById("terminalInput");
const terminalBox = document.getElementById("terminalBox");

function typeLine(text, delay = 30) {
  return new Promise(resolve => {
    let i = 0;
    const interval = setInterval(() => {
      terminalBox.innerHTML += text[i];
      i++;
      if (i >= text.length) {
        clearInterval(interval);
        terminalBox.innerHTML += "\n";
        terminalBox.scrollTop = terminalBox.scrollHeight;
        resolve();
      }
    }, delay);
  });
}

function progressBar(duration = 3000) {
  return new Promise(resolve => {
    const totalBlocks = 20;
    let progress = 0;

    const interval = setInterval(() => {
      progress++;
      const filled = "‚ñà".repeat(progress);
      const empty = "‚ñë".repeat(totalBlocks - progress);
      terminalBox.innerHTML = terminalBox.innerHTML.replace(/Installing:.*/g, "");
      terminalBox.innerHTML += `Installing: [${filled}${empty}] ${Math.floor((progress/totalBlocks)*100)}%\n`;
      terminalBox.scrollTop = terminalBox.scrollHeight;

      if (progress >= totalBlocks) {
        clearInterval(interval);
        resolve();
      }
    }, duration / totalBlocks);
  });
}

terminalInput.addEventListener("keydown", async function(e) {
  if (e.key === "Enter") {
    const command = terminalInput.value.trim();
    terminalBox.innerHTML += "\n$ " + command + "\n";
    terminalInput.value = "";

    const validCommands = [
      "pip install love.whl",
      "mylove"
    ];

    if (validCommands.includes(command)) {

      await typeLine("Preparing installation...\n");
      await typeLine("Compiling feelings...\n");
      await progressBar(2500);
      await typeLine("Linking hearts...\n");
      await typeLine("Finalizing love package...\n");
      await typeLine("Installation successful ‚ù§Ô∏è\n");

      const encodedLink = "aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xbXNfaHh5QnFhQ2MteDR3UVoxSWphZklXYkZnbDltUGsvdmlldz91c3A9c2hhcmluZw==";
      const decodedLink = atob(encodedLink);

      terminalBox.innerHTML += 
        "\nDownload your reward:\n" +
        "<a href='" + decodedLink + "' target='_blank' style='color:#ff88aa;'>love.whl</a>\n";

    } else if (command === "help") {
      await typeLine("Available commands:");
      await typeLine("  pip install love.whl");
    } else {
      await typeLine("Command not recognized.");
    }

    terminalBox.scrollTop = terminalBox.scrollHeight;
  }
});
}
</script>

</body>
</html>
